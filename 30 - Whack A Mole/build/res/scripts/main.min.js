const scoreBoard=document.querySelector(".score"),holes=document.querySelectorAll(".hole"),moles=document.querySelectorAll(".mole");let lastHole,timeUp=!1,score=0;function randomTime(min,max){return Math.round(Math.random()*(max-min)+min)}function randomHole(holes){const idx=Math.floor(Math.random()*holes.length),hole=holes[idx];return hole===lastHole?randomHole(holes):(lastHole=hole,hole)}function peep(){const time=randomTime(200,1e3),hole=randomHole(holes);hole.classList.add("up"),setTimeout(function(){hole.classList.remove("up"),timeUp||peep()},time)}function startGame(){scoreBoard.textContent=0,timeUp=!1,score=0,peep(),setTimeout(function(){timeUp=!0},1e4)}function bonk(event){event.isTrusted&&(score++,this.classList.remove("up"),scoreBoard.textContent=score)}moles.forEach(function(mole){mole.addEventListener("click",bonk)});