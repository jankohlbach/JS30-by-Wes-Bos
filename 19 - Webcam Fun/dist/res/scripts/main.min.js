const video=document.querySelector(".player"),canvas=document.querySelector(".photo"),ctx=canvas.getContext("2d"),strip=document.querySelector(".strip"),snap=document.querySelector(".snap"),redEffect=pixels=>{for(let i=0;i<pixels.data.length;i+=4)pixels.data[i+0]+=100,pixels.data[i+1]-=50,pixels.data[i+2]*=.5;return pixels},rgbSplit=pixels=>{for(let i=0;i<pixels.data.length;i+=4)pixels.data[i-150]=pixels.data[i+0],pixels.data[i+100]=pixels.data[i+1],pixels.data[i-150]=pixels.data[i+2];return pixels},greenScreen=pixels=>{const levels={};document.querySelectorAll(".rgb input").forEach(input=>{levels[input.name]=input.value});for(let i=0;i<pixels.data.length;i+=4){const red=pixels.data[i+0],green=pixels.data[i+1],blue=pixels.data[i+2],alpha=pixels.data[i+3];red>=levels.rmin&&green>=levels.gmin&&blue>=levels.bmin&&red<=levels.rmax&&green<=levels.gmax&&blue<=levels.bmax&&(pixels.data[i+3]=0)}return pixels},getVideo=()=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(localMediaStream=>{video.srcObject=localMediaStream,video.play()}).catch(error=>{console.error("OH NO!!!",error)})},paintToCanvas=()=>{const width=video.videoWidth,height=video.videoHeight;return canvas.width=width,canvas.height=height,setInterval(()=>{ctx.drawImage(video,0,0,width,height);let pixels=ctx.getImageData(0,0,width,height);pixels=greenScreen(pixels),ctx.putImageData(pixels,0,0)},16)},takePhoto=()=>{snap.currentTime=0,snap.play();const data=canvas.toDataURL("image/jpeg"),link=document.createElement("a");link.href=data,link.setAttribute("download","handsome"),link.innerHTML=`<img src="${data}" alt="Handsome Man" />`,strip.insertBefore(link,strip.firstChild)};getVideo(),video.addEventListener("canplay",paintToCanvas);
//# sourceMappingURL=main.min.js.map