const endpoint="https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json",cities=[],searchInput=document.querySelector(".search"),suggestions=document.querySelector(".suggestions");function findMatches(wordToMatch,cities){return cities.filter(function(place){const regex=new RegExp(wordToMatch,"gi");return place.city.match(regex)||place.state.match(regex)})}function displayMatches(){const matchArray=findMatches(this.value,cities),html=matchArray.map(function(place){console.log(this.value);const regex=new RegExp(this.value,"gi"),cityName=place.city.replace(regex,`<mark>${this.value}</mark>`),stateName=place.state.replace(regex,`<mark>${this.value}</mark>`);return`\n        <li>\n          <span>${cityName}, ${stateName}</span>\n          <span>${place.population}</span>\n        </li>\n      `},this).join("");suggestions.innerHTML=html}fetch(endpoint).then(function(blob){return blob.json()}).then(function(data){cities.push(...data)}),searchInput.addEventListener("change",displayMatches),searchInput.addEventListener("keyup",displayMatches);